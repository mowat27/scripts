#!/usr/bin/env bash

function makefile {
cat <<EOF
# See https://tech.davis-hansson.com/p/make/ for a write-up of these settings

# Use bash and set strict execution mode
SHELL:=bash
.SHELLFLAGS := -eu -o pipefail -c

MAKEFLAGS += --warn-undefined-variables
MAKEFLAGS += --no-builtin-rules

# Targets

default: build

build:
	@echo This is a emplate makefile generated by $(basename $0)

EOF
}
ofile=$1

[[ -z $ofile ]] && ofile=Makefile

echo >&2 "Creating $ofile"
makefile > "$ofile"
